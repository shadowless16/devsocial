{"file":"C:\\Users\\akdav\\Downloads\\devsocial\\models\\XPLog.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,qDAA0D;AAU1D,MAAM,WAAW,GAAG,IAAI,iBAAM,CAC5B;IACE,MAAM,EAAE;QACN,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;QAC3B,GAAG,EAAE,MAAM;QACX,QAAQ,EAAE,IAAI;QACd,KAAK,EAAE,IAAI;KACZ;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE;YACJ,aAAa;YACb,eAAe;YACf,kBAAkB;YAClB,YAAY;YACZ,eAAe;YACf,YAAY;YACZ,eAAe;YACf,kBAAkB;YAClB,cAAc;YACd,UAAU;YACV,wBAAwB;YACxB,kBAAkB;YAClB,gBAAgB;YAChB,gBAAgB;YAChB,eAAe;YACf,sBAAsB;SACvB;QACD,QAAQ,EAAE,IAAI;KACf;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,MAAM;QACZ,QAAQ,EAAE,IAAI;KACf;IACD,KAAK,EAAE;QACL,IAAI,EAAE,iBAAM,CAAC,KAAK,CAAC,QAAQ;KAC5B;CACF,EACD;IACE,UAAU,EAAE,IAAI;CACjB,CACF,CAAA;AAED,+BAA+B;AAC/B,WAAW,CAAC,KAAK,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;AAC/C,WAAW,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,CAAC,CAAA;AAE7C,kBAAe,kBAAQ,CAAC,MAAM,CAAC,KAAK,IAAI,kBAAQ,CAAC,KAAK,CAAS,OAAO,EAAE,WAAW,CAAC,CAAA","names":[],"sources":["C:\\Users\\akdav\\Downloads\\devsocial\\models\\XPLog.ts"],"sourcesContent":["import mongoose, { Schema, type Document } from \"mongoose\"\n\nexport interface IXPLog extends Document {\n  userId: mongoose.Types.ObjectId\n  type: string\n  xpAmount: number\n  refId?: mongoose.Types.ObjectId\n  createdAt: Date\n}\n\nconst XPLogSchema = new Schema<IXPLog>(\n  {\n    userId: {\n      type: Schema.Types.ObjectId,\n      ref: \"User\",\n      required: true,\n      index: true,\n    },\n    type: {\n      type: String,\n      enum: [\n        \"daily_login\",\n        \"post_creation\",\n        \"comment_creation\",\n        \"like_given\",\n        \"like_received\",\n        \"first_post\",\n        \"first_comment\",\n        \"poll_interaction\",\n        \"badge_earned\",\n        \"level_up\",\n        \"moderator_action_bonus\",\n        \"referral_success\",\n        \"referral_bonus\",\n        \"email_verified\",\n        \"user_followed\",\n        \"challenge_completion\",\n      ],\n      required: true,\n    },\n    xpAmount: {\n      type: Number,\n      required: true,\n    },\n    refId: {\n      type: Schema.Types.ObjectId,\n    },\n  },\n  {\n    timestamps: true,\n  },\n)\n\n// Index for efficient querying\nXPLogSchema.index({ userId: 1, createdAt: -1 })\nXPLogSchema.index({ type: 1, createdAt: -1 })\n\nexport default mongoose.models.XPLog || mongoose.model<IXPLog>(\"XPLog\", XPLogSchema)\n"],"version":3}